{% extends "base.html" %}

{% block content %}
<div class="container-fluid px-4 pt-3">
    <a href="/" class="btn btn-outline-secondary btn-sm">
        ← {{ _('Volver') }}
    </a>
</div>

<div class="container py-1">
    <h2 class="text-center mb-4">{{ _('Ingresa el código de tu estado') }}</h2>

    <!-- FORMULARIO sin recarga -->
    <form id="searchForm" class="d-flex justify-content-center flex-column align-items-center">
        <div class="w-75 w-md-50 mb-2">
            <input type="text" id="codigoInput" class="form-control" placeholder="{{ _('Ej: 1614 o R-1213') }}"
                   oninput="validateGroupCode()" required>
            <small id="codigo-msg" class="form-text"
                   data-valid="{{ _('✔️ Caracteres válidos') }}"
                   data-invalid="{{ _('❌ Caracteres admitidos: A-Z, 0-9 y guión (-)') }}"></small>
        </div>
        <button type="submit" id="buscarBtn" class="btn btn-primary">{{ _('Buscar') }}</button>
    </form> 

    <!-- Contenedor para mostrar resultado con mensajes traducidos -->
    <div id="resultadoBusqueda" class="mt-4 text-center"
         data-msg-ok="{{ _('Grupo encontrado con el código') }}"
         data-msg-not-found="{{ _('No se encontró ningún grupo con ese código.') }}"
         data-msg-error="{{ _('Error al buscar el grupo.') }}">
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', path='js/search.js') }}"></script>
{% endblock %}
